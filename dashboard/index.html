<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoidPWN Dashboard V3</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>

    <header>
        <div class="logo">VOID<span>PWN</span> v3.0</div>
        <div class="system-stats">
            <div class="stat-item"><span class="stat-label">CPU:</span> <span id="val-cpu" class="stat-value">--%</span>
            </div>
            <div class="stat-item"><span class="stat-label">RAM:</span> <span id="val-ram" class="stat-value">--%</span>
            </div>
            <div class="stat-item"><span class="stat-label">TEMP:</span> <span id="val-temp"
                    class="stat-value">--Â°C</span></div>
            <div class="stat-item"><span class="stat-label">IP:</span> <span id="val-ip"
                    class="stat-value">0.0.0.0</span></div>
        </div>
    </header>

    <div class="layout">
        <!-- Sidebar Navigation -->
        <nav>
            <button class="nav-btn active" data-tab="connect">
                <span class="material-icons">lan</span>
                <span class="nav-label">INTERFACES</span>
            </button>
            <button class="nav-btn" data-tab="scan">
                <span class="material-icons">radar</span>
                <span class="nav-label">RADAR SCAN</span>
            </button>
            <button class="nav-btn" data-tab="attack">
                <span class="material-icons">gps_fixed</span>
                <span class="nav-label">WIFI ATTACKS</span>
            </button>
            <button class="nav-btn" data-tab="scenarios">
                <span class="material-icons">auto_awesome</span>
                <span class="nav-label">AUTOMATED</span>
            </button>
            <button class="nav-btn" data-tab="reports">
                <span class="material-icons">article</span>
                <span class="nav-label">REPORTS</span>
            </button>
            <button class="nav-btn" data-tab="system">
                <span class="material-icons">settings</span>
                <span class="nav-label">SYSTEM</span>
            </button>
        </nav>

        <!-- Main Content Area -->
        <main>
            <div class="content-left">

                <!-- TAB 1: INTERFACES -->
                <div id="tab-connect" class="tab-content active">
                    <div class="panel">
                        <div class="panel-header">
                            <h2>Active Interfaces</h2>
                            <button class="btn" id="scan-wifi-btn" onclick="loadInterfaces()">REFRESH</button>
                        </div>
                        <div style="font-size:0.8rem; color:var(--text-dim); margin-bottom:15px">
                            Select an interface to identify its subnet and scan for devices.
                        </div>
                        <div id="wifi-list" class="device-list" style="height: 320px; overflow-y: auto;">
                            <!-- Interface list populated by JS -->
                        </div>
                    </div>
                </div>

                <!-- TAB 2: SCAN -->
                <div id="tab-scan" class="tab-content">
                    <div class="panel">
                        <div class="panel-header">
                            <h2>Network Discovery</h2>
                            <div style="display:flex; gap:10px;">
                                <button class="btn" onclick="scanDevices('quick')">QUICK</button>
                                <button class="btn" onclick="scanDevices('full')">DEEP</button>
                            </div>
                        </div>
                        <div style="font-size:0.8rem; color:var(--text-dim); margin-bottom:15px">
                            Discovered devices populate the right sidebar inventory.
                        </div>

                        <div class="panel-header" style="margin-top:30px">
                            <h2>Advanced Recon (Target Selection Required)</h2>
                        </div>
                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
                            <button class="btn" onclick="runAction('recon', {mode:'web'})">WEB ENUM</button>
                            <button class="btn" onclick="runAction('recon', {mode:'smb'})">SMB ENUM</button>
                            <button class="btn" onclick="runAction('recon', {mode:'dns'})">DNS ENUM</button>
                            <button class="btn" onclick="runAction('recon', {mode:'arp'})">ARP SCAN</button>
                            <button class="btn" onclick="runAction('recon', {mode:'comprehensive'})">FULL RECON</button>
                        </div>
                    </div>
                </div>

                <!-- TAB 3: ATTACK -->
                <div id="tab-attack" class="tab-content">
                    <div class="panel">
                        <div class="panel-header">
                            <h2>WiFi Attack Vectors</h2>
                        </div>
                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
                            <button class="btn secondary" onclick="runAction('deauth')">DEAUTH</button>
                            <button class="btn secondary" onclick="runAction('evil_twin')">EVIL TWIN</button>
                            <button class="btn secondary" onclick="runAction('handshake')">HANDSHAKE</button>
                            <button class="btn secondary" onclick="runAction('crack')">CRACK PASS</button>
                            <button class="btn secondary" style="grid-column: span 2"
                                onclick="runAction('wifite')">AUTO-PILOT (WIFITE)</button>
                        </div>
                    </div>

                    <div class="panel">
                        <div class="panel-header">
                            <h2>Advanced Modern Attacks</h2>
                        </div>
                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
                            <button class="btn" style="border-color:var(--accent); color:var(--accent)"
                                onclick="runAction('pmkid')">PMKID SNIPER</button>
                            <button class="btn" style="border-color:var(--accent); color:var(--accent)"
                                onclick="runAction('pixie')">WPS PIXIE</button>
                            <button class="btn" style="border-color:#ffcc00; color:#ffcc00"
                                onclick="runAction('beacon')">BEACON CHAOS</button>
                            <button class="btn" style="border-color:#ffcc00; color:#ffcc00"
                                onclick="runAction('auth')">AUTH REBOOT</button>
                        </div>
                    </div>

                    <div class="panel">
                        <div class="panel-header">
                            <h2>Bandwidth Throttling</h2>
                        </div>
                        <div style="display:flex; gap:10px; align-items:center;">
                            <select id="throttle-speed"
                                style="background:var(--bg); color:var(--text); border:1px solid var(--border); padding:10px; border-radius:4px; flex:1">
                                <option value="56kbit">56kbps (Dial-up)</option>
                                <option value="256kbit">256kbps (Very Slow)</option>
                                <option value="1mbit" selected>1mbps (Laggy)</option>
                                <option value="5mbit">5mbps (Limit HD)</option>
                            </select>
                            <button class="btn"
                                onclick="runAction('throttle', {speed: document.getElementById('throttle-speed').value})">START
                                LIMIT</button>
                        </div>
                    </div>
                </div>

                <!-- TAB 4: SCENARIOS -->
                <div id="tab-scenarios" class="tab-content">
                    <div class="scenario-grid">
                        <div class="scenario-card" onclick="runScenario('wifi_audit')">
                            <span class="material-icons scenario-icon" style="color:var(--primary)">security</span>
                            <div class="scenario-title">WiFi Audit</div>
                            <div class="scenario-desc">Scan, Capture, and Test WPS security on all nearby networks.
                            </div>
                        </div>
                        <div class="scenario-card" onclick="runScenario('network_sweep')">
                            <span class="material-icons scenario-icon" style="color:var(--secondary)">searching</span>
                            <div class="scenario-title">Net Sweep</div>
                            <div class="scenario-desc">Full discovery of all hosts, open ports, and active services.
                            </div>
                        </div>
                        <div class="scenario-card" onclick="runScenario('web_hunt')">
                            <span class="material-icons scenario-icon" style="color:var(--accent)">language</span>
                            <div class="scenario-title">Web Hunt</div>
                            <div class="scenario-desc">Automatically find and enumerate every web server on the network.
                            </div>
                        </div>
                        <div class="scenario-card" onclick="runScenario('stealth_recon')">
                            <span class="material-icons scenario-icon"
                                style="color:var(--primary)">visibility_off</span>
                            <div class="scenario-title">Stealth</div>
                            <div class="scenario-desc">Quiet SYN scanning with decoys to avoid IDA/IPS detection.</div>
                        </div>
                        <div class="scenario-card" onclick="runScenario('quick_check')">
                            <span class="material-icons scenario-icon" style="color:var(--text)">speed</span>
                            <div class="scenario-title">Quick Check</div>
                            <div class="scenario-desc">Fast 5-minute assessment of critical network vulnerabilities.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TAB 5: REPORTS -->
                <div id="tab-reports" class="tab-content">
                    <div class="panel">
                        <div class="panel-header">
                            <h2>Operations Summary</h2>
                        </div>
                        <table style="width:100%; border-collapse: collapse; font-size:0.85rem">
                            <thead
                                style="border-bottom: 2px solid var(--border); text-align: left; color:var(--text-dim)">
                                <tr>
                                    <th style="padding:10px">TIME</th>
                                    <th>TYPE</th>
                                    <th>TARGET</th>
                                    <th>STATUS</th>
                                </tr>
                            </thead>
                            <tbody id="reports-body">
                                <!-- Data from JS -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- TAB 6: SYSTEM -->
                <div id="tab-system" class="tab-content">
                    <div class="panel">
                        <h2>Maintenance</h2>
                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; margin-top:20px;">
                            <button class="btn" onclick="runAction('reboot')">REBOOT</button>
                            <button class="btn secondary" onclick="runAction('shutdown')">SHUTDOWN</button>
                            <button class="btn" style="grid-column: span 2" onclick="runAction('restore_hdmi')">SWITCH
                                TO HDMI (DISPLAY FIX)</button>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Right Sidebar: Global Info -->
            <div class="sidebar">
                <!-- Device Inventory -->
                <div class="panel" style="flex: 1; display:flex; flex-direction:column">
                    <div class="panel-header">
                        <h2>Inventory</h2>
                        <button class="btn" style="padding:4px 8px; font-size:0.6rem"
                            onclick="api('/api/devices/clear', 'POST').then(loadDeviceList)">CLEAR</button>
                    </div>
                    <div id="inventory-list" class="device-list" style="flex:1; overflow-y:auto">
                        <!-- Devices from JS -->
                    </div>
                    <div style="margin-top:15px; border-top: 1px solid var(--border); padding-top:15px;">
                        <div class="stat-label" style="font-size:0.7rem">ACTIVE TARGET:</div>
                        <div class="active-target-badge"
                            style="font-family:var(--font-mono); color:var(--secondary); font-size:0.8rem">NONE SELECTED
                        </div>
                    </div>
                </div>

                <!-- Real-time HUD Log -->
                <div class="panel" style="height: 250px; display:flex; flex-direction:column">
                    <h2>Live HUD</h2>
                    <div id="attack-log" class="log-container">
                        <!-- Logs here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Virtual Keyboard -->
    <div id="keyboard">
        <!-- Numbers -->
        <div class="key" onclick="typeKey('1')">1</div>
        <div class="key" onclick="typeKey('2')">2</div>
        <div class="key" onclick="typeKey('3')">3</div>
        <div class="key" onclick="typeKey('4')">4</div>
        <div class="key" onclick="typeKey('5')">5</div>
        <div class="key" onclick="typeKey('6')">6</div>
        <div class="key" onclick="typeKey('7')">7</div>
        <div class="key" onclick="typeKey('8')">8</div>
        <div class="key" onclick="typeKey('9')">9</div>
        <div class="key" onclick="typeKey('0')">0</div>

        <!-- Letters (Simplified QWERTY) -->
        <div class="key" onclick="typeKey('Q')">Q</div>
        <div class="key" onclick="typeKey('W')">W</div>
        <div class="key" onclick="typeKey('E')">E</div>
        <div class="key" onclick="typeKey('R')">R</div>
        <div class="key" onclick="typeKey('T')">T</div>
        <div class="key" onclick="typeKey('Y')">Y</div>
        <div class="key" onclick="typeKey('U')">U</div>
        <div class="key" onclick="typeKey('I')">I</div>
        <div class="key" onclick="typeKey('O')">O</div>
        <div class="key" onclick="typeKey('P')">P</div>

        <div class="key" onclick="typeKey('A')">A</div>
        <div class="key" onclick="typeKey('S')">S</div>
        <div class="key" onclick="typeKey('D')">D</div>
        <div class="key" onclick="typeKey('F')">F</div>
        <div class="key" onclick="typeKey('G')">G</div>
        <div class="key" onclick="typeKey('H')">H</div>
        <div class="key" onclick="typeKey('J')">J</div>
        <div class="key" onclick="typeKey('K')">K</div>
        <div class="key" onclick="typeKey('L')">L</div>
        <div class="key" style="background:var(--secondary)" onclick="typeKey('BACK')">BCK</div>

        <div class="key" onclick="typeKey('Z')">Z</div>
        <div class="key" onclick="typeKey('X')">X</div>
        <div class="key" onclick="typeKey('C')">C</div>
        <div class="key" onclick="typeKey('V')">V</div>
        <div class="key" onclick="typeKey('B')">B</div>
        <div class="key" onclick="typeKey('N')">N</div>
        <div class="key" onclick="typeKey('M')">M</div>
        <div class="key" onclick="typeKey('-')">-</div>
        <div class="key" onclick="typeKey('_')">_</div>
        <div class="key" style="background:var(--primary); color:var(--bg)" onclick="typeKey('ENTER')">ENT</div>
    </div>

    <!-- Device Detail Modal -->
    <div id="device-modal" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal" onclick="event.stopPropagation()">
            <h2 id="modal-title" style="margin-bottom:20px">DEVICE DETAILS</h2>
            <div id="modal-content">
                <div class="stat-item"><span class="stat-label">IP:</span> <span id="det-ip" class="stat-value">-</span>
                </div>
                <div class="stat-item"><span class="stat-label">MAC:</span> <span id="det-mac"
                        class="stat-value">-</span></div>
                <div class="stat-item"><span class="stat-label">VENDOR:</span> <span id="det-vendor"
                        class="stat-value">-</span></div>

                <h3 style="font-size:0.8rem; margin:20px 0 10px; color:var(--primary)">OPEN PORTS</h3>
                <div id="det-ports" class="tag-container">-</div>

                <h3 style="font-size:0.8rem; margin:20px 0 10px; color:var(--primary)">NOTES</h3>
                <textarea id="det-notes"
                    style="width:100%; height:80px; background:rgba(0,0,0,0.3); color:var(--text); border:1px solid var(--border); padding:10px; border-radius:4px; font-family:var(--font-mono); font-size:0.8rem;"></textarea>

                <h3 style="font-size:0.8rem; margin:20px 0 10px; color:var(--primary)">TAGS (Comma separated)</h3>
                <input type="text" id="det-tags" style="margin-bottom:20px">

                <button class="btn" style="width:100%" onclick="saveDeviceMetadata()">SAVE CHANGES</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>